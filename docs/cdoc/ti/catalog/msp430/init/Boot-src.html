<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><title>module ti.catalog.msp430.init.Boot</title>
<meta name="googlebot" content="noindex,nofollow">
<link rel="stylesheet" type="text/css" href="../../../../src.css"/>
</head>
<body>
<pre class=src>
     1    <span class="comment">/* 
</span>     2    <span class="comment"> *  Copyright (c) 2008 Texas Instruments and others.
</span>     3    <span class="comment"> *  All rights reserved. This program and the accompanying materials
</span>     4    <span class="comment"> *  are made available under the terms of the Eclipse Public License v1.0
</span>     5    <span class="comment"> *  which accompanies this distribution, and is available at
</span>     6    <span class="comment"> *  http://www.eclipse.org/legal/epl-v10.html
</span>     7    <span class="comment"> * 
</span>     8    <span class="comment"> *  Contributors:
</span>     9    <span class="comment"> *      Texas Instruments - initial implementation
</span>    10    <span class="comment"> * 
</span>    11    <span class="comment"> * */</span>
    12    <span class="comment">/*
</span>    13    <span class="comment"> *  ======== Boot.xdc ========
</span>    14    <span class="comment"> */</span>
    15    
    16    <span class=key>package</span> ti.catalog.msp430.init;
    17    
    18    import xdc.rov.ViewInfo;
    19    
    20    <span class="xdoc">/*!
</span>    21    <span class="xdoc"> *  ======== Boot ========
</span>    22    <span class="xdoc"> *  Boot time initialization code manager
</span>    23    <span class="xdoc"> *
</span>    24    <span class="xdoc"> *  The Boot module supports boot initialization for the MSP430 devices.
</span>    25    <span class="xdoc"> *  A special boot init function is created based on the configuration
</span>    26    <span class="xdoc"> *  settings for this module.  This function is hooked into the
</span>    27    <span class="xdoc"> *  `{<b>@link</b> xdc.runtime.Reset#fxns xdc.runtime.Reset.fxns[]}` array and
</span>    28    <span class="xdoc"> *  is called very early at boot time (prior to C runtime initialization).
</span>    29    <span class="xdoc"> * 
</span>    30    <span class="xdoc"> *  The code to support the boot module is placed in a separate section
</span>    31    <span class="xdoc"> *  named `".text:bootCodeSection"` to allow placement of this section in
</span>    32    <span class="xdoc"> *  the linker .cmd file if necessary. This section is a subsection of the
</span>    33    <span class="xdoc"> *  `".text"` section so this code will be placed into the .text section
</span>    34    <span class="xdoc"> *  unless explicitly placed, either through
</span>    35    <span class="xdoc"> *  `{<b>@link</b> xdc.cfg.Program#sectMap Program.sectMap}` or through a linker
</span>    36    <span class="xdoc"> *  command file.
</span>    37    <span class="xdoc"> */</span>
    38    @Template(<span class="string">"./Boot.xdt"</span>)
    39    <span class=key>metaonly</span> <span class=key>module</span> Boot
    40    {
    41        <span class=key>metaonly</span> <span class=key>struct</span> ModuleView {
    42            Bool         disableWatchdog;
    43            UInt         watchdogAddress;
    44            Bool         configureDCO;
    45            Bool         useLFXT;
    46        }
    47    
    48        @Facet
    49        <span class=key>metaonly</span> <span class=key>config</span> ViewInfo.Instance rovViewInfo = 
    50            ViewInfo.create({
    51                viewMap: [
    52                [
    53                    <span class="string">'Module'</span>,
    54                    {
    55                        type: ViewInfo.MODULE,
    56                        viewInitFxn: <span class="string">'viewInitModule'</span>,
    57                        structName: <span class="string">'ModuleView'</span>
    58                    }
    59                ],
    60                ]
    61            });
    62        
    63        <span class="xdoc">/*! 
</span>    64    <span class="xdoc">     *  ======== disableWatchdog ========
</span>    65    <span class="xdoc">     *  Watchdog disable flag
</span>    66    <span class="xdoc">     *
</span>    67    <span class="xdoc">     *  The default is `true`.  Set to `false` to not automatically disable the
</span>    68    <span class="xdoc">     *  watchdog timer.
</span>    69    <span class="xdoc">     */</span>
    70        <span class=key>config</span> Bool disableWatchdog = <span class=key>true</span>;
    71    
    72        <span class="xdoc">/*! 
</span>    73    <span class="xdoc">     *  ======== watchdogAddress ========
</span>    74    <span class="xdoc">     *  Watchdog control register address
</span>    75    <span class="xdoc">     *
</span>    76    <span class="xdoc">     *  The default (0x15c) is set for MSP430F54xx and MSP430F552x devices.
</span>    77    <span class="xdoc">     *  Change for other devices.
</span>    78    <span class="xdoc">     */</span>
    79        <span class=key>config</span> UInt watchdogAddress = 0x15c;
    80    
    81        <span class="xdoc">/*! 
</span>    82    <span class="xdoc">     *  ======== configureDCO ========
</span>    83    <span class="xdoc">     *  Configure DCO flag
</span>    84    <span class="xdoc">     *
</span>    85    <span class="xdoc">     *  The default is `false`.  Set to `true` to initialize the DCO at boot.
</span>    86    <span class="xdoc">     *
</span>    87    <span class="xdoc">     */</span>
    88        <span class=key>config</span> Bool configureDCO = <span class=key>false</span>;
    89    
    90        <span class="xdoc">/*! 
</span>    91    <span class="xdoc">     *  ======== useLFXT ========
</span>    92    <span class="xdoc">     *  Use a low frequency crystal (LFXT) reference
</span>    93    <span class="xdoc">     *
</span>    94    <span class="xdoc">     *  The default is `false`.  Set to `true` to indicate a 32768Hz low 
</span>    95    <span class="xdoc">     *  frequency crystal is present, and available for configuring the clock
</span>    96    <span class="xdoc">     *  system. 
</span>    97    <span class="xdoc">     *
</span>    98    <span class="xdoc">     *  This configuration parameter is utilized for only a subset of MSP430
</span>    99    <span class="xdoc">     *  device types, and only when `configureDCO` is set to `true`. 
</span>   100    <span class="xdoc">     *
</span>   101    <span class="xdoc">     *  For FR58xx/FR59xx devices: if `useLFXT` is set to `true`, an LFXT
</span>   102    <span class="xdoc">     *  will be used as reference, for generating more accurate clock 
</span>   103    <span class="xdoc">     *  frequencies.  Othewise, and by default, MODOSC will be used as 
</span>   104    <span class="xdoc">     *  reference.
</span>   105    <span class="xdoc">     *
</span>   106    <span class="xdoc">     *  For all other MSP430 device types: at present, the `useLFXT` parameter 
</span>   107    <span class="xdoc">     *  will be ignored, and an internal reference will be used instead.
</span>   108    <span class="xdoc">     */</span>
   109        <span class=key>config</span> Bool useLFXT = <span class=key>false</span>;
   110    };
   111    <span class="comment">/*
</span>   112    <span class="comment"> *  @(#) ti.catalog.msp430.init; 1, 0, 0,; 8-14-2015 13:38:36; /db/ztree/library/trees/platform/platform-q07/src/
</span>   113    <span class="comment"> */</span>
   114    
</pre>
</body></html>
